dat <- read.csv("merged.csv")
d <- zoo(dat[,-1],as.Date(dat[,1]))
y <- log(d$sales)
x <- d[,c(2,3)]
reg0 <- dyn$lm(y~lag(y,-1)+lag(y,-12))
summary(reg0)
summary(reg0)
reg1 <- dyn$lm(y~lag(y,-1)+lag(y,-12)+suvs+insurance,data=dat)
summary(reg1)
source("/home/hal/Working/Examples/oosf.R")
z <- OutOfSampleForecast12(y,x,17)
MaeReport(z)
maeReport(z,"2007-12-01","2009-06-30")
MaeReport(z,"2007-12-01","2009-06-30")
q()
n
library(dyn)
z
setwd("~/Working/Examples/Iclaims")
ts.plot(abs(res0)-abs(res1),type="h",ylab="diff error",main="Base - trends absolute forecast error")
u <- par("usr")
d1 <- "2007-12-01"
d2 <- "2009-06-30"
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
ts.plot(abs(res0)-abs(res1),type="h",ylab="diff error",main="Base - trends absolute forecast error")
u <- par("usr")
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
d1
as.Date(d1)
index(d1)
index(as.Date(d1))
plot(y)
u <- par("usr")
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
lines(y)
plot(z.ts[,1],z.ts[,2],col=1:2,lty=1:2) 
ts.plot(abs(res1)-abs(res0),type="h")
u <- par("usr")
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
plot(abs(res1)-abs(res0),type="h")
u <- par("usr")
rect(as.Date(d1), u[3], as.Date(d2), u[4], border=0,col="grey")
q()
n
